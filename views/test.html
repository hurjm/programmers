<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/x-icon"
        href="https://static.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
    <link rel="mask-icon" type=""
        href="https://static.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg"
        color="#111">
    <title><%= title%></title>
    <link rel="stylesheet" href="stylesheets/style.css">

    <script>
        window.console = window.console || function (t) { };
    </script>
    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
</head>

<body translate="no">

    <div class="calendar-container">
        <div class="calendar-header">
            <button class="btn btn-light">Today</button>
            <div class="ico-arrow">
                <span style="cursor:pointer" id="previous-month" data-toggle="tooltip" data-placement="top" title="" data-original-title="이전">
                    <i class="material-icons">
                        chevron_left
                    </i>
                </span>
                <span style="cursor:pointer" id="next-month" data-toggle="tooltip" data-placement="top" title="" data-original-title="다음">
                    <i class="material-icons">
                        chevron_right
                    </i>
                </span>
            </div>
            <h4 id="year-month"></h4>
            <ul class="nav nav-tabs view-tab" id="view" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="tab-month" data-toggle="tab" href="#month" role="tab"
                        aria-controls="month" aria-selected="true">월</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="tab-day" data-toggle="tab" href="#day" role="tab" aria-controls="day"
                        aria-selected="false">일</a>
                </li>
            </ul>
        </div>
        
        <div class="tab-content">
            <div class="tab-pane active show" id="month" role="tabpanel" aria-labelledby="tab-month">
                <div class="monthly-calendar">
                    <div class="week-day">
                        <div class="day-name">일</div>
                        <div class="day-name">월</div>
                        <div class="day-name">화</div>
                        <div class="day-name">수</div>
                        <div class="day-name">목</div>
                        <div class="day-name">금</div>
                        <div class="day-name">토</div>
                    </div>
                    <div class="calendar">
                        <div class="week">
                            <div class="day">
                                <h3 class="day-label">1</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">2</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">3</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">4</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">5</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">6</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">7</h3>
                            </div>
                        </div>
                        <div class="week">
                            <div class="day">
                                <h3 class="day-label">8</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">9</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">10</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">11</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">12</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">13</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">14</h3>
                            </div>
                        </div>
                        <div class="week">
                            <div class="day">
                                <h3 class="day-label">15</h3>
                                
                                <!-- <div class="content-line">
                                    <div class="event-consecutive-marking"></div>
                                    <div class="title">
                                        <h5>일정 1</h5>
                                        <h7 class="reservation">2019년 9월 15일 – 17일
                                    </div>
                                </div>
                                <div class="content-line"><i class="material-icons">
                                        notes
                                    </i>
                                    <div class="title">
                                        <h7 class="reservation">스케쥴 메모, 설명이 나타납니다.
                                    </div> -->

                                
                            </div>
                            <div class="day">
                                <h3 class="day-label">16</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">17</h3>
                                <div class="event-consecutive event-start event-end" data-span="2" data-toggle="popover"
                                    data-html="true" data-content="<div class=$quot;content-line$quot;><div class=$quot;event-marking$quot;></div><div class=$quot;title$quot;><h5>qw</h5><h7 class=$quot;reservation$quot;>2019-10-02 - 2019-10-10<span class=$quot;reservation-time$quot;>12:30 AM ~ 12:31 AM</span></div></div><div class=$quot;content-line$quot;><i class=$quot;material-icons$quot;>notes</i><div class=$quot;title$quot;><h7 class=$quot;reservation$quot;>qw</div>$quot; data-original-title=$quot;"
                                    title="">연속 일정 4
                                </div>
                            </div>
                            <div class="day">
                                <h3 class="day-label">18</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">19</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">20</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">21</h3>
                            </div>
                        </div>
                        <div class="week">
                            <div class="day">
                                <h3 class="day-label">22</h3>
                                <div class="event event-start event-end" data-span="1" data-toggle="popover"
                                    data-html="true" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-marking&quot;></div><div class=&quot;title&quot;><h5>kj</h5><h7 class=&quot;reservation&quot;>2019-10-01 - 2019-10-17<span class=&quot;reservation-time&quot;>12:42 AM ~ 12:42 AM</span></div></div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>notes</i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>jn</div>" data-original-title=""
                                    title="">일반 일정 3
                                </div>
                                
                                <div class="event event-start event-end" data-span="2" data-toggle="popover"
                                    data-html="true" data-original-title="" title="">반복 일정 2
                                </div>
                            </div>
                            <div class="day">
                                <h3 class="day-label">23</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">24</h3>
                                
                            </div>
                            <div class="day">
                                <h3 class="day-label">25</h3>
                                <div class="event event-start event-end" data-span="1" data-toggle="popover">일반 일정 3
                                </div>
                            </div>
                            <div class="day">
                                <h3 class="day-label">26</h3>
                                <div class="event event-start event-end" data-span="2" data-toggle="popover"
                                    data-html="true" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-marking&quot;></div><div class=&quot;title&quot;><h5>일정 1</h5><h7 class=&quot;reservation&quot;>2019년 9월 15일 – 17일<span class=&quot;reservation-time&quot;>⋅오후 2:00~ 3:00</span></div>
                </div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>
        notes
        </i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>스케쥴 메모, 설명이 나타납니다.</div>" data-original-title=""
                                    title="">일반 일정 4
                                </div>
                            </div>
                            <div class="day">
                                <h3 class="day-label">27</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">28</h3>
                            </div>
                        </div>
                        <div class="week">
                            <div class="day">
                                <h3 class="day-label">29</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">30</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">1</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">2</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">3</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">4</h3>
                            </div>
                            <div class="day">
                                <h3 class="day-label">5</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane" id="day" role="tabpanel" aria-labelledby="tab-day">
                <div class="daily-calendar">
                    <span class="day-name" id="daily"></span>
                    <div class="event-consecutive event-start event-end" data-toggle="popover" data-html="true"
                        data-placement="left" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-consecutive-marking&quot;></div><div class=&quot;title&quot;><h5>일정 1</h5><h7 class=&quot;reservation&quot;>2019년 9월 15일 – 17일</div>
            </div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>
    notes
    </i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>스케쥴 메모, 설명이 나타납니다.</div>" data-original-title=""
                        title="">연속 일정 1
                    </div>
                    <div class="event-consecutive event-start event-end" data-toggle="popover" data-html="true"
                        data-placement="left" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-consecutive-marking&quot;></div><div class=&quot;title&quot;><h5>일정 1</h5><h7 class=&quot;reservation&quot;>2019년 9월 15일 – 17일</div>
            </div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>
    notes
    </i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>스케쥴 메모, 설명이 나타납니다.</div>" data-original-title=""
                        title="">연속 일정 2
                    </div>
                    <div class="event event-start event-end" data-toggle="popover" data-html="true"
                        data-placement="left" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-marking&quot;></div><div class=&quot;title&quot;><h5>일정 1</h5><h7 class=&quot;reservation&quot;>2019년 9월 15일 – 17일<span class=&quot;reservation-time&quot;>⋅오후 2:00~ 3:00</span></div>
            </div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>
    notes
    </i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>스케쥴 메모, 설명이 나타납니다.</div>" data-original-title=""
                        title="">일반 일정 3
                    </div>
                    <div class="event-repeated event-start event-end" data-toggle="popover" data-html="true"
                        data-placement="left" data-content="<div class=&quot;content-line&quot;><div class=&quot;event-repeated-marking&quot;></div><div class=&quot;title&quot;><h5>일정 1</h5><h7 class=&quot;reservation&quot;>2019년 9월 15일 – 17일<span class=&quot;reservation-time&quot;>⋅오후 2:00~ 3:00</span><span class=&quot;repeat-message&quot;>⋅매월 반복</span></div>
            </div><div class=&quot;content-line&quot;><i class=&quot;material-icons&quot;>
    notes
    </i><div class=&quot;title&quot;><h7 class=&quot;reservation&quot;>스케쥴 메모, 설명이 나타납니다.</div>" data-original-title=""
                        title="">반복 일정 1
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerSchedule" tabindex="-1" role="dialog" aria-labelledby="registerScheduleLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerScheduleLabel">일정 만들기</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group">
                            <label class="col-form-label">일정 제목</label>
                            <input type="text" class="form-control" id="recipient-name">
                        </div>
                        <div class="form-group">
                            <label for="message-text" class="col-form-label">일정 설명</label>
                            <textarea class="form-control" id="message-text"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label">일정 시작 날짜</label>
                                    <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                                        <input type="text" class="form-control datetimepicker-input"
                                            data-target="#datetimepicker1">
                                        <div class="input-group-append" data-target="#datetimepicker1"
                                            data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="material-icons">
                                                    calendar_today
                                                </i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label">일정 시작 시간</label>
                                    <div class="input-group date" id="datetimepicker2" data-target-input="nearest">
                                        <input type="text" class="form-control datetimepicker-input"
                                            data-target="#datetimepicker2">
                                        <div class="input-group-append" data-target="#datetimepicker2"
                                            data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="material-icons">
                                                    access_time
                                                </i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label">일정 종료 날짜</label>
                                    <div class="input-group date" id="datetimepicker3" data-target-input="nearest">
                                        <input type="text" class="form-control datetimepicker-input"
                                            data-target="#datetimepicker3">
                                        <div class="input-group-append" data-target="#datetimepicker3"
                                            data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="material-icons">
                                                    calendar_today
                                                </i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label">일정 종료 시간</label>
                                    <div class="input-group date" id="datetimepicker4" data-target-input="nearest">
                                        <input type="text" class="form-control datetimepicker-input"
                                            data-target="#datetimepicker4">
                                        <div class="input-group-append" data-target="#datetimepicker4"
                                            data-toggle="datetimepicker">
                                            <div class="input-group-text"><i class="material-icons">
                                                    access_time
                                                </i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                                <label class="form-check-label" for="inlineCheckbox1">매월 반복</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                                <label class="form-check-label" for="inlineCheckbox2">하루 종일</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary">일정 만들기</button>
                </div>
            </div>
        </div>
    </div>

    <div id="popover_content_wrapper">
    </div>

    <script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script id="rendered-js">
        var time = new Date("<%=time%>");
        var day = ['일', '월', '화', '수', '목', '금', '토'];
        var calendar = new Array(5);
        var date;

        
        for(var i=0;i<calendar.length;i++){
            calendar[i] = new Array(7);
        }

        date = 1;
        for(var i=0;i<calendar.length;i++){
            for(var j=0;j<7;j++){
                calendar[i][j] = date;
                console.log(calendar[i][j]);
                date++;
            }
        }


        var test = 'test';
        var title = 'test'
        var sDate = 1
        var eDate = 1
        var sHour = 2
        var eHour = 2
        var description = 'testsetest'
        text += title;

        var text = ""
        text += '<div class="content-line"><div class="event-marking"></div><div class="title"><h5>';
        text += title;
        text += '</h5><h7 class="reservation">';
        text += sDate + ' ~ ' + eDate;
        text += ' <span class="reservation-time">';
        text += sHour + ' ~ ' + eHour;
        text += '</span></div></div><div class="content-line"><i class="material-icons">notes</i><div class="title"><h7 class="reservation">';
        text += description;
        text += '</div><button class="btn btn-secondary delete" idx="40"';
        text += 'type="button">삭제</button>'

        $('body').on('click', '.delete', function(){
            console.log($('.delete').attr('idx'))
        })

        $(function(){
            $('.event').popover({ 
                placement: 'top',
                html : true, 
                content: text
            });
        });

        $.year_month = function(){
            $('#year-month').html(time.getFullYear() + '년 ' + (time.getMonth() + 1) + '월');
        };

        $.daily = function(){
            $('#daily').html(time.getDate() + '일 ' + day[time.getDay()] + '요일');
        };

        $(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });

        $('#previous-month').click(function () {
            time.setDate(0);
            $.ajax({
                url: '/',
                async: true,
                type: 'POST',
                data:{
                    mtime: time
                },
                dataType: 'text',
                beforeSend: function(jqXHR){},
                success: function(jqXHR) {
                    var result = JSON.parse(jqXHR);
                    time = new Date(result.mtime);
                    $.year_month();
                    $.daily();
                },
                error: function(jqXHR) {},
                complete: function(jqXHR) {}
            });
        });

        $('#next-month').click(function () {
            time.setDate(32);
            $.ajax({
                url: '/',
                async: true,
                type: 'POST',
                data:{
                    mtime: time
                },
                dataType: 'text',
                beforeSend: function(jqXHR){},
                success: function(jqXHR) {
                    var result = JSON.parse(jqXHR);
                    time = new Date(result.mtime);
                    $.year_month();
                    $.daily();
                },
                error: function(jqXHR) {},
                complete: function(jqXHR) {}
            });
        });

        $(function () {
            $('#view li:first-child a').tab('show');
        });

        // $(function () {
        //     $('[data-toggle="popover"]').popover();
        // });

        $('.week, .daily-calendar').click(function () {
            $('#registerSchedule').modal('show');
        });

        $(".event-consecutive, .event, .event-repeated").click(function (event) {
            event.stopPropagation();
        });

        $(function () {
            $('#datetimepicker1').datetimepicker({
                format: 'L'
            });

            $('#datetimepicker3').datetimepicker({
                format: 'L'
            });

        });

        $(function () {
            $('#datetimepicker2').datetimepicker({
                format: 'LT'
            });

            $('#datetimepicker4').datetimepicker({
                format: 'LT'
            });

        });
          //# sourceURL=pen.js
        $.year_month();
        $.daily();
    </script>


</body>

</html>